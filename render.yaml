services:
  - name: gk-app-server
    type: web
    runtime: node
    plan: free
    rootDir: server
    buildCommand: pnpm install && pnpm build && pnpm seed
    startCommand: pnpm start
    repo: https://github.com/gkfat/gk-app.git
    branch: master
    healthCheckPath: /documentation
    envVars:
      - fromGroup: gk-app-env-group

  - name: gk-app-client
    type: web
    plan: free
    rootDir: client
    runtime: docker
    dockerfilePath: ./docker/Dockerfile
    repo: https://github.com/gkfat/gk-app.git
    branch: master
    healthCheckPath: /
    envVars:
      - fromGroup: gk-app-env-group

  - name: redis
    type: redis
    plan: free
    ipAllowList: []

databases:
  - name: db
    plan: free
    ipAllowList: []